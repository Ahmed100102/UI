<div class="analytics">
  <div class="analytics-header">
    <div class="header-content">
      <h1 class="page-title">
        <i class="fas fa-chart-line"></i>
        Advanced Analytics
      </h1>
      <p class="page-subtitle">Deep insights into your system performance</p>
    </div>
    
    <div class="header-actions">
      <button class="export-btn" (click)="exportData()">
        <i class="fas fa-download"></i>
        Export Report
      </button>
    </div>
  </div>

  <!-- Filters -->
  <div class="filters-section">
    <div class="filter-group">
      <label class="filter-label">Time Range</label>
      <select class="filter-select" [(ngModel)]="selectedTimeRange" (change)="onTimeRangeChange()">
        <option *ngFor="let range of timeRanges" [value]="range.value">
          {{ range.label }}
        </option>
      </select>
    </div>
    
    <div class="filter-group">
      <label class="filter-label">Platform</label>
      <select class="filter-select" [(ngModel)]="selectedPlatform" (change)="onPlatformChange()">
        <option *ngFor="let platform of platforms" [value]="platform.value">
          {{ platform.label }}
        </option>
      </select>
    </div>
  </div>

  <!-- Key Metrics -->
  <div class="metrics-overview">
    <div class="metric-card">
      <div class="metric-icon">
        <i class="fas fa-tachometer-alt"></i>
      </div>
      <div class="metric-content">
        <div class="metric-value">145ms</div>
        <div class="metric-label">Avg Response Time</div>
        <div class="metric-trend positive">
          <i class="fas fa-arrow-up"></i>
          12% faster
        </div>
      </div>
    </div>

    <div class="metric-card">
      <div class="metric-icon">
        <i class="fas fa-exchange-alt"></i>
      </div>
      <div class="metric-content">
        <div class="metric-value">2.4K</div>
        <div class="metric-label">Requests/min</div>
        <div class="metric-trend positive">
          <i class="fas fa-arrow-up"></i>
          8% increase
        </div>
      </div>
    </div>

    <div class="metric-card">
      <div class="metric-icon">
        <i class="fas fa-exclamation-triangle"></i>
      </div>
      <div class="metric-content">
        <div class="metric-value">0.02%</div>
        <div class="metric-label">Error Rate</div>
        <div class="metric-trend negative">
          <i class="fas fa-arrow-down"></i>
          15% reduction
        </div>
      </div>
    </div>

    <div class="metric-card">
      <div class="metric-icon">
        <i class="fas fa-server"></i>
      </div>
      <div class="metric-content">
        <div class="metric-value">99.9%</div>
        <div class="metric-label">Uptime</div>
        <div class="metric-trend neutral">
          <i class="fas fa-minus"></i>
          Stable
        </div>
      </div>
    </div>
  </div>

  <!-- Charts Grid -->
  <div class="charts-container">
    <!-- Performance Chart -->
    <div class="chart-card large">
      <div class="chart-header">
        <h3 class="chart-title">
          <i class="fas fa-chart-area"></i>
          Performance Metrics
        </h3>
        <div class="chart-controls">
          <button class="chart-control-btn active">Real-time</button>
          <button class="chart-control-btn">Historical</button>
        </div>
      </div>
      <div class="chart-container">
        <canvas baseChart
                [data]="performanceData"
                [options]="chartOptions"
                type="line">
        </canvas>
      </div>
    </div>

    <!-- Error Trends -->
    <div class="chart-card">
      <div class="chart-header">
        <h3 class="chart-title">
          <i class="fas fa-exclamation-circle"></i>
          Error Trends
        </h3>
      </div>
      <div class="chart-container">
        <canvas baseChart
                [data]="errorTrendsData"
                [options]="chartOptions"
                type="bar">
        </canvas>
      </div>
    </div>

    <!-- System Health -->
    <div class="chart-card">
      <div class="chart-header">
        <h3 class="chart-title">
          <i class="fas fa-heartbeat"></i>
          System Health
        </h3>
      </div>
      <div class="chart-container">
        <canvas baseChart
                [data]="systemHealthData"
                [options]="radarOptions"
                type="radar">
        </canvas>
      </div>
    </div>
  </div>

  <!-- Insights Panel -->
  <div class="insights-panel">
    <div class="panel-header">
      <h2 class="panel-title">
        <i class="fas fa-lightbulb"></i>
        AI-Powered Insights
      </h2>
    </div>
    
    <div class="insights-grid">
      <div class="insight-card">
        <div class="insight-icon">
          <i class="fas fa-trending-up"></i>
        </div>
        <div class="insight-content">
          <h4 class="insight-title">Performance Improvement</h4>
          <p class="insight-description">
            Response times have improved by 12% over the last 24 hours. 
            The optimization of database queries is showing positive results.
          </p>
          <div class="insight-action">
            <button class="insight-btn">View Details</button>
          </div>
        </div>
      </div>

      <div class="insight-card">
        <div class="insight-icon">
          <i class="fas fa-shield-alt"></i>
        </div>
        <div class="insight-content">
          <h4 class="insight-title">Security Alert</h4>
          <p class="insight-description">
            Unusual traffic patterns detected from IP range 192.168.1.0/24. 
            Consider implementing additional security measures.
          </p>
          <div class="insight-action">
            <button class="insight-btn">Investigate</button>
          </div>
        </div>
      </div>

      <div class="insight-card">
        <div class="insight-icon">
          <i class="fas fa-cog"></i>
        </div>
        <div class="insight-content">
          <h4 class="insight-title">Resource Optimization</h4>
          <p class="insight-description">
            Memory usage is consistently below 70%. Consider scaling down 
            resources to optimize costs while maintaining performance.
          </p>
          <div class="insight-action">
            <button class="insight-btn">Optimize</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>